apiVersion: v1
data:
  config.env: |
    ZXhwb3J0IE1JTklPX0JST1dTRVI9Im9uIgpleHBvcnQgTUlOSU9fUk9PVF9QQVNTV09SRD
    0iMUtGR0cxWlZCQlEwM0NLTEdaVTNLU1M0RFdNV0pJNFQiCmV4cG9ydCBNSU5JT19ST09U
    X1VTRVI9IjBHTVFQMkRHQTQxSUJMVjAiCmV4cG9ydCBNSU5JT19TVE9SQUdFX0NMQVNTX1
    NUQU5EQVJEPSJFQzoyIgpleHBvcnQgTUlOSU9fUFJPTUVUSEVVU19BVVRIX1RZUEU9InB1
    YmxpYyIKZXhwb3J0IE1JTklPX1BST01FVEhFVVNfSk9CX0lEPSJtaW5pby1zeXN0ZW0vbW
    luaW8iCg==
kind: Secret
metadata:
  labels:
    v1.min.io/tenant: codelab
  name: codelab-minio-env
  namespace: minio-system
type: Opaque
---
apiVersion: v1
data:
  CONSOLE_ACCESS_KEY: bGd0bXA=
  CONSOLE_SECRET_KEY: VkQ1MzhPWXhTRWlHRDRJOW1tRmZxRk1DR3ExdklpR20=
kind: Secret
metadata:
  labels:
    v1.min.io/tenant: codelab
  name: user-lgtmp
  namespace: minio-system
type: Opaque
---
apiVersion: minio.min.io/v2
kind: Tenant
metadata:
  labels:
    app: minio
  name: codelab
  namespace: minio-system
spec:
  buckets:
  - name: mimir-data
  - name: mimir-rules
  - name: mimir-alertmanager
  - name: loki-data
  - name: loki-rules
  - name: tempo-data
  - name: pyroscope-data
  configuration:
    name: codelab-minio-env
  exposeServices:
    console: false
    minio: false
  features:
    bucketDNS: false
    enableSFTP: false
  image: quay.io/minio/minio:RELEASE.2023-11-15T20-43-25Z
  imagePullPolicy: IfNotPresent
  mountPath: /export
  podManagementPolicy: Parallel
  pools:
  - name: pool-2gb
    servers: 2
    volumeClaimTemplate:
      metadata:
        name: data
      spec:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 2Gi
        storageClassName: null
    volumesPerServer: 2
  prometheusOperator: false
  requestAutoCert: true
  subPath: /data
  users:
  - name: user-lgtmp
